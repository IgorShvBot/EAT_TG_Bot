21-04-2025 22:33:48 - root - INFO - Бот запущен в Docker-контейнере
21-04-2025 22:33:48 - root - INFO - Запуск бота...
21-04-2025 22:33:49 - telegram.ext.Application - INFO - Application started
21-04-2025 22:37:51 - root - INFO - Файл categories.yaml успешно обновлен по пути: /app/config/categories.yaml
21-04-2025 22:46:54 - root - INFO - Получен файл: Справка_о_движении_денежных_средств.pdf
21-04-2025 22:46:55 - camelot - INFO - Processing page-1
21-04-2025 22:46:56 - camelot - INFO - Processing page-2
21-04-2025 22:46:56 - camelot - INFO - Processing page-3
21-04-2025 22:46:56 - camelot - INFO - Processing page-4
21-04-2025 22:46:56 - camelot - INFO - Processing page-5
21-04-2025 22:46:57 - camelot - INFO - Processing page-6
21-04-2025 22:46:57 - camelot - INFO - Processing page-7
21-04-2025 22:46:57 - extract_transactions_pdf2 - INFO - Обработка CSV как Tinkoff_Platinum
21-04-2025 22:46:57 - extract_transactions_pdf2 - INFO - Успешно загружен CSV для Tinkoff Platinum, строк: 310
21-04-2025 22:46:57 - extract_transactions_pdf2 - INFO - Данные сохранены в /tmp/transactions_processed_tinkoff_platinum.csv
21-04-2025 22:50:02 - root - INFO - Файл categories.yaml успешно обновлен по пути: /app/config/categories.yaml
21-04-2025 22:52:03 - root - INFO - Получен файл: Справка_о_движении_денежных_средств.pdf
21-04-2025 22:52:05 - camelot - INFO - Processing page-1
21-04-2025 22:52:05 - camelot - INFO - Processing page-2
21-04-2025 22:52:05 - camelot - INFO - Processing page-3
21-04-2025 22:52:06 - camelot - INFO - Processing page-4
21-04-2025 22:52:06 - camelot - INFO - Processing page-5
21-04-2025 22:52:06 - camelot - INFO - Processing page-6
21-04-2025 22:52:06 - camelot - INFO - Processing page-7
21-04-2025 22:52:06 - extract_transactions_pdf2 - INFO - Обработка CSV как Tinkoff_Platinum
21-04-2025 22:52:06 - extract_transactions_pdf2 - INFO - Успешно загружен CSV для Tinkoff Platinum, строк: 310
21-04-2025 22:52:06 - extract_transactions_pdf2 - INFO - Данные сохранены в /tmp/transactions_processed_tinkoff_platinum.csv
21-04-2025 22:54:03 - root - INFO - Файл special_conditions.yaml успешно обновлен по пути: /app/config/special_conditions.yaml
21-04-2025 22:54:15 - root - INFO - Получен файл: Справка_о_движении_денежных_средств.pdf
21-04-2025 22:54:17 - camelot - INFO - Processing page-1
21-04-2025 22:54:17 - camelot - INFO - Processing page-2
21-04-2025 22:54:17 - camelot - INFO - Processing page-3
21-04-2025 22:54:17 - camelot - INFO - Processing page-4
21-04-2025 22:54:18 - camelot - INFO - Processing page-5
21-04-2025 22:54:18 - camelot - INFO - Processing page-6
21-04-2025 22:54:18 - camelot - INFO - Processing page-7
21-04-2025 22:54:18 - extract_transactions_pdf2 - INFO - Обработка CSV как Tinkoff_Platinum
21-04-2025 22:54:18 - extract_transactions_pdf2 - INFO - Успешно загружен CSV для Tinkoff Platinum, строк: 310
21-04-2025 22:54:18 - extract_transactions_pdf2 - INFO - Данные сохранены в /tmp/transactions_processed_tinkoff_platinum.csv
21-04-2025 22:55:46 - root - INFO - Файл special_conditions.yaml успешно обновлен по пути: /app/config/special_conditions.yaml
21-04-2025 22:56:41 - root - INFO - Получен файл: Справка_о_движении_денежных_средств.pdf
21-04-2025 22:56:42 - camelot - INFO - Processing page-1
21-04-2025 22:56:43 - camelot - INFO - Processing page-2
21-04-2025 22:56:43 - camelot - INFO - Processing page-3
21-04-2025 22:56:43 - camelot - INFO - Processing page-4
21-04-2025 22:56:44 - camelot - INFO - Processing page-5
21-04-2025 22:56:44 - camelot - INFO - Processing page-6
21-04-2025 22:56:44 - camelot - INFO - Processing page-7
21-04-2025 22:56:44 - extract_transactions_pdf2 - INFO - Обработка CSV как Tinkoff_Platinum
21-04-2025 22:56:44 - extract_transactions_pdf2 - INFO - Успешно загружен CSV для Tinkoff Platinum, строк: 310
21-04-2025 22:56:44 - extract_transactions_pdf2 - INFO - Данные сохранены в /tmp/transactions_processed_tinkoff_platinum.csv
21-04-2025 22:59:09 - classify_transactions_pdf - ERROR - Ошибка при добавлении паттерна: not readable
21-04-2025 22:59:09 - root - ERROR - Ошибка добавления паттерна: not readable
21-04-2025 22:59:09 - root - ERROR - Исключение при обработке запроса:
Traceback (most recent call last):
  File "/app/bot.py", line 223, in add_pattern
    add_pattern_to_category(category, pattern)
  File "/app/classify_transactions_pdf.py", line 88, in add_pattern_to_category
    saved_content = file.read()
io.UnsupportedOperation: not readable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/telegram/ext/_application.py", line 1124, in process_update
    await coroutine
  File "/usr/local/lib/python3.10/site-packages/telegram/ext/_handler.py", line 141, in handle_update
    return await self.callback(update, context)
  File "/app/bot.py", line 229, in add_pattern
    await update.message.reply_text(
AttributeError: 'NoneType' object has no attribute 'reply_text'
21-04-2025 22:59:18 - classify_transactions_pdf - ERROR - Ошибка при добавлении паттерна: not readable
21-04-2025 22:59:18 - root - ERROR - Ошибка добавления паттерна: not readable
21-04-2025 23:07:12 - root - INFO - Файл special_conditions.yaml успешно обновлен по пути: /app/config/special_conditions.yaml
21-04-2025 23:07:25 - root - INFO - Получен файл: Справка_о_движении_денежных_средств.pdf
21-04-2025 23:07:27 - camelot - INFO - Processing page-1
21-04-2025 23:07:27 - camelot - INFO - Processing page-2
21-04-2025 23:07:27 - camelot - INFO - Processing page-3
21-04-2025 23:07:27 - camelot - INFO - Processing page-4
21-04-2025 23:07:28 - camelot - INFO - Processing page-5
21-04-2025 23:07:28 - camelot - INFO - Processing page-6
21-04-2025 23:07:28 - camelot - INFO - Processing page-7
21-04-2025 23:07:28 - extract_transactions_pdf2 - INFO - Обработка CSV как Tinkoff_Platinum
21-04-2025 23:07:28 - extract_transactions_pdf2 - INFO - Успешно загружен CSV для Tinkoff Platinum, строк: 310
21-04-2025 23:07:28 - extract_transactions_pdf2 - INFO - Данные сохранены в /tmp/transactions_processed_tinkoff_platinum.csv
21-04-2025 23:16:09 - root - INFO - Файл categories.yaml успешно обновлен по пути: /app/config/categories.yaml
21-04-2025 23:16:25 - root - INFO - Получен файл: Справка_о_движении_денежных_средств.pdf
21-04-2025 23:16:27 - camelot - INFO - Processing page-1
21-04-2025 23:16:27 - camelot - INFO - Processing page-2
21-04-2025 23:16:27 - camelot - INFO - Processing page-3
21-04-2025 23:16:28 - camelot - INFO - Processing page-4
21-04-2025 23:16:28 - camelot - INFO - Processing page-5
21-04-2025 23:16:28 - camelot - INFO - Processing page-6
21-04-2025 23:16:28 - camelot - INFO - Processing page-7
21-04-2025 23:16:28 - extract_transactions_pdf2 - INFO - Обработка CSV как Tinkoff_Platinum
21-04-2025 23:16:28 - extract_transactions_pdf2 - INFO - Успешно загружен CSV для Tinkoff Platinum, строк: 310
21-04-2025 23:16:28 - extract_transactions_pdf2 - INFO - Данные сохранены в /tmp/transactions_processed_tinkoff_platinum.csv
