# Changelog

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –±—É–¥—É—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

–§–æ—Ä–º–∞—Ç –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
–∞ –≤–µ—Ä—Å–∏–∏ —Å–ª–µ–¥—É—é—Ç [Semantic Versioning](https://semver.org/lang/ru/).


<!-- üîπ –ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–µ—Å—Ç–∏ –≤–µ—Ä—Å–∏–∏ (SemVer)
–§–æ—Ä–º–∞—Ç: MAJOR.MINOR.PATCH
MAJOR ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –ª–æ–º–∞—é—â–∏–µ –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
MINOR ‚Äî –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
PATCH ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –±–µ–∑ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π -->

<!-- üìå –ü—Ä–∞–≤–∏–ª–∞ –≤–µ–¥–µ–Ω–∏—è CHANGELOG.md
–í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∑–∞–ø–∏—Å–∏ –≤ –æ–±—Ä–∞—Ç–Ω–æ–º —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ (—Å–≤–µ–∂–∏–µ —Å–≤–µ—Ä—Ö—É).
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–¥–µ–ª—ã:
Added ‚Äî –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
Changed ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ
Deprecated ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
Removed ‚Äî —É–¥–∞–ª–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
Fixed ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫
Security ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ -->


## [–ù–µ–∏–∑–¥–∞–Ω–Ω–æ–µ] (Unreleased)
### –î–æ–±–∞–≤–ª–µ–Ω–æ
-

### –ò–∑–º–µ–Ω–µ–Ω–æ
-

---

## [v3.1.1] - 2025-05-02 17:10
### –î–æ–±–∞–≤–ª–µ–Ω–æ
-

### –ò–∑–º–µ–Ω–µ–Ω–æ
- –î–æ–±–∞–≤–∏–ª –ø–æ–ª—è –≤ –ë–î: –ö–ª–∞—Å—Å, –°—É–º–º–∞ (–∫—É–¥–∞), –ù–∞–ª–∏—á–Ω–æ—Å—Ç—å (–∫—É–¥–∞)
- –û–±–Ω–æ–≤–∏–ª –º–µ—Ç–æ–¥ save_transactions –∏ –º–µ—Ç–æ–¥ get_transactions –≤ database.py


## [v3.1.0] - 2025-05-02 16:25
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- database.py - –¥–æ–±–∞–≤–∏–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (–õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∏ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –∑–∞–ø–∏—Å–µ–π)
- –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –≤ setup_handlers (–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤—ã–±–æ—Ä –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤)
- –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ update_transaction –≤ Database: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ä–∞–Ω–µ–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º –æ–ø–µ—Ä–∞—Ü–∏—è–º –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ò–∑–º–µ–Ω–µ–Ω–æ
- bot.py - –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –¥–æ–±–∞–≤–∏–º –Ω–æ–≤—ã–π


## [v3.0.0] - 2025-05-02
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –°–æ–∑–¥–∞–Ω–∏–µ –ë–î PostgreSQL, —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏—Ç–æ–≥–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ result.csv
- –ú–æ–¥—É–ª—å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î (database.py)


## [v2.3.0] - 2025-04-29 12:20
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –î–æ–±–∞–≤–∏–ª –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
- /add_settings –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫:
    –ë–µ—Ä—ë—Ç—Å—è –≤–µ—Å—å —Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ /add_settings —Å –ø–æ–º–æ—â—å—é update.message.text[len('/add_settings'):].strip().
    –¢–µ–∫—Å—Ç –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—é parse_user_settings(...), –∫–æ—Ç–æ—Ä–∞—è —É–º–µ–µ—Ç —Ä–∞–∑–±–∏—Ä–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫.
    –†–µ–∑—É–ª—å—Ç–∞—Ç –∫—Ä–∞—Å–∏–≤–æ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞.

### Fix
- –£–±—Ä–∞–ª update –∏–∑ –≤—ã–∑–æ–≤–∞ cleanup_files
- –£–ª—É—á—à–∏–ª –æ–±—Ä–∞–±–æ—Ç–∫—É –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º –≤ cleanup_files


## [v2.2.0] - 2025-04-29
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã /add_settings: –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥—É—Ç –∑–∞–¥–∞–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É /add_settings

### Fix
- –î–µ–∫–æ—Ä–∞—Ç–æ—Ä admin_only –±—É–¥–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤—Å–µ —Å–ª—É—á–∞–∏
- –ú–µ–Ω—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –ª–æ–≥–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã 2578, —Ç–æ –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç == ! –ù–∞—Ç–∞—à–∞


## [v2.1.0] - 2025-04-29
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –ê–¥–º–∏–Ω–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –≤ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏:
    –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è load_admins(), –∫–æ—Ç–æ—Ä–∞—è —á–∏—Ç–∞–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è ADMINS
    –°–ø–∏—Å–æ–∫ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π ALLOWED_USERS –∫–∞–∫ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —á–∏—Å–µ–ª
    –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤:
    –°–æ–∑–¥–∞–Ω –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä @admin_only –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä–∞–≤ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
    –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
    –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–∞ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π


## [v2.0.0] - 2025-04-28
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –ü–µ—Ä–≤–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–æ—Ç–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Tinkoff, –°–±–µ—Ä–±–∞–Ω–∫, –Ø–Ω–¥–µ–∫—Å
- –°–∏—Å—Ç–µ–º–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö PDF (–°–±–µ—Ä, –¢, –Ø–Ω–¥–µ–∫—Å) —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —á–µ—Ä–µ–∑ YAML —Ñ–∞–π–ª—ã
- –ü–µ—Ä–µ–¥–∞—á–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ —Ç–µ–∫—Å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —Ñ–∞–π–ª–∞ PDF (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ user_settings)
    user_settings = ['–ù–∞–ª–∏—á–Ω–æ—Å—Ç—å', '–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç', '–ö–ª–∞—Å—Å', '–ß–µ–∫ #', '–û–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏']
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ pdf –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ class_contractor.yaml (class, contractor, cash)


## [v1.0.0] - 2025-04-05
### –î–æ–±–∞–≤–ª–µ–Ω–æ
- –ü–µ—Ä–≤–∞—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–æ—Ç–∞ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ PDF Tinkoff Platinum
3 —Å–∫—Ä–∏–ø—Ç–∞:
1. extract_transactions_pdf1 - –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ pdf –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª transactions_pdf1_temp.csv –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–ª–µ–¥—É—é—â–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º 
2. extract_transactions_pdf2 - —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ—á–∏—â–µ–Ω–Ω—ã–π –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª transactions_pdf2_combined.csv –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–ª–µ–¥—É—é—â–∏–º —Å–∫—Ä–∏–ø—Ç–æ–º
3. classify_transactions_pdf - –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–π —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª result.csv