# –ë–æ—Ç –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –≤—ã–ø–∏—Å–æ–∫

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è**: v3.8.0

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

> –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–º. –≤ [CHANGELOG.md](CHANGELOG.md)

## üìå –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîπ –û–±—Ä–∞–±–æ—Ç–∫–∞ PDF-–≤—ã–ø–∏—Å–æ–∫
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã–ø–∏—Å–æ–∫ –∏–∑ Tinkoff (Platinum), Visa Gold Aeroflot, –Ø–Ω–¥–µ–∫—Å.–ü—ç–π –∏ –¥—Ä—É–≥–∏—Ö –±–∞–Ω–∫–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ PDF –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö –¥–µ—Ç–∞–ª–µ–π:
  - –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–∏
  - –°—É–º–º–∞ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - –û–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
  - –ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã/—Å—á–µ—Ç–∞

### üîπ –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–µ–¥–∞, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ –∏ –¥—Ä.)
- –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —á–µ—Ä–µ–∑ —á–∞—Ç-–±–æ—Ç–∞
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Å–æ–±—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### üîπ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —á–µ—Ä–µ–∑ Telegram
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞–º–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### üîπ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–∞ —Å –Ω–µ—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–º–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –±–æ—Ç–∞ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–∞–±–æ—Ç—ã
- –ö–æ–º–∞–Ω–¥–∞ `/templates` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞–º–∏ (–Ω–æ–≤–æ–µ –≤ v3.8.0)
- –ü–æ—Å–ª–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á—ë—Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω¬ª (v3.8.0)

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.8+
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (—Å–º. requirements.txt)
- –î–æ—Å—Ç—É–ø –∫ Telegram API (—Ç–æ–∫–µ–Ω –±–æ—Ç–∞)
- –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ PDF —Ç—Ä–µ–±—É–µ—Ç—Å—è:
  - Camelot
  - PyMuPDF (fitz)
  - pypdf

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   pip install -r requirements.txt

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ config/:
   - categories.yaml - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
   - special_conditions.yaml - —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
   - pdf_patterns.yaml - —à–∞–±–ª–æ–Ω—ã –¥–ª—è PDF
   - timeouts.yaml - —Ç–∞–π–º–∞—É—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   python bot.py

## üìã –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
–ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ PDF-—Ñ–∞–π–ª —Å –≤—ã–ø–∏—Å–∫–æ–π –±–æ—Ç—É

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
/add_pattern "–ö–∞—Ç–µ–≥–æ—Ä–∏—è" "–ü–∞—Ç—Ç–µ—Ä–Ω" - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
/config - –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏
–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
–ö–ª—é—á: –ó–Ω–∞—á–µ–Ω–∏–µ
–ü—Ä–∏–º–µ—Ä:
–ß–µ–∫ #: + –ù–î–°
PDF: 1 (—Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã)

## ‚öô –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- bot.py - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
- extract_transactions_pdf1.py - –æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF (–ø–µ—Ä–≤—ã–π —ç—Ç–∞–ø)
- extract_transactions_pdf2.py - –æ–±—Ä–∞–±–æ—Ç–∫–∞ CSV (–≤—Ç–æ—Ä–æ–π —ç—Ç–∞–ø)
- classify_transactions_pdf.py - –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- config/ - –ø–∞–ø–∫–∞ —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
  - categories.yaml
  - special_conditions.yaml
  - pdf_patterns.yaml
  - timeouts.yaml
- logs/ - –ø–∞–ø–∫–∞ —Å –ª–æ–≥–∞–º–∏ —Ä–∞–±–æ—Ç—ã

## üìå –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Docker
- –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∑–∞–ø—É—Å–∫–∞
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ì–∏–±–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤—ã–ø–∏—Å–æ–∫

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT.

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É.



## ‚öô –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

### üîπ –§–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥
–û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
–ü–∞—Ä–∞–º–µ—Ç—Ä: –æ–ø–µ—Ä–∞—Ç–æ—Ä –∑–Ω–∞—á–µ–Ω–∏–µ
```
–ì–¥–µ:
- `–æ–ø–µ—Ä–∞—Ç–æ—Ä`:
  - `+` - –¥–æ–±–∞–≤–∏—Ç—å –∫ —Ç–µ–∫—É—â–µ–º—É –∑–Ω–∞—á–µ–Ω–∏—é
  - (–±–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞) - –∑–∞–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
- `–∑–Ω–∞—á–µ–Ω–∏–µ` - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

### üîπ –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã–≤–æ–¥–∞**:
   - `PDF: 0/1/2` - —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:
     - `0` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) - —Ç–æ–ª—å–∫–æ –∏—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª (result.csv)
     - `1` + –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π CSV –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ PDF
     - `2` + CSV –ø–æ—Å–ª–µ –ø–µ—Ä–≤–∏—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

2. **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**:
   - `–ß–µ–∫ #: + —Ç–µ–∫—Å—Ç` - –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –∫ –Ω–æ–º–µ—Ä—É —á–µ–∫–∞
   - `–û–ø–∏—Å–∞–Ω–∏–µ: —Ç–µ–∫—Å—Ç` - –∑–∞–º–µ–Ω–∏—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
   - `–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç: —Ç–µ–∫—Å—Ç` - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞
   - `–ö–ª–∞—Å—Å: —Ç–µ–∫—Å—Ç` - –∏–∑–º–µ–Ω–∏—Ç—å –∫–ª–∞—Å—Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

3. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏**:
   - `–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ù–∞–∑–≤–∞–Ω–∏–µ` - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
   - `–¢–∏–ø: –†–∞—Å—Ö–æ–¥/–î–æ—Ö–æ–¥` - –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
   - `–ù–∞–ª–∏—á–Ω–æ—Å—Ç—å: –ù–∞–∑–≤–∞–Ω–∏–µ` - –∏–∑–º–µ–Ω–∏—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ —Å—Ä–µ–¥—Å—Ç–≤

### üîπ –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫:

1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–º–µ—Ç–∫–∏ –∫ —á–µ–∫–∞–º:
```
–ß–µ–∫ #: + –ù–î–° 20%
```

2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:
```
PDF: 1
```

3. –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:
```
–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç: –ò–ü –ü–µ—Ç—Ä–æ–≤
–ö–ª–∞—Å—Å: 03 –ë–∏–∑–Ω–µ—Å
–ß–µ–∫ #: + –ë–µ–∑ –ù–î–°
```

4. –î–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º:
```
–û–ø–∏—Å–∞–Ω–∏–µ: –ê–≤–∞–Ω—Å–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂
–¢–∏–ø: –î–æ—Ö–æ–¥
–ö–∞—Ç–µ–≥–æ—Ä–∏—è: –ê–≤–∞–Ω—Å—ã
```

### üîπ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º
- –î–ª—è –æ—Ç–º–µ–Ω—ã –¥–µ–π—Å—Ç–≤–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/reset`
- –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥–æ–π `/settings`
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏ (–¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —Ñ–∞–π–ª–∞)